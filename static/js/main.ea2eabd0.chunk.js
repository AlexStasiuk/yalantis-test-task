(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{16:function(e,t,s){},17:function(e,t,s){},19:function(e,t,s){},20:function(e,t,s){},21:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(9),r=s.n(c),l=s(3),a=s(8),i=s(7),u=s.n(i),j=s(10),o=s(2),b=(s(16),s(17),s(0)),d=function(e){var t=e.user,s=e.changeSelectedValues,c=Object(n.useState)(t.selected),r=Object(o.a)(c,2),l=r[0],a=r[1],i=function(e){a("Selected"===e.target.value),s(t.id,!l)},u=!0===l?"selected-username-color":"not-selected-username-color";return Object(b.jsxs)("div",{className:"user-wrapper",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{className:u,children:[t.firstName," "]}),Object(b.jsx)("span",{className:u,children:t.lastName})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"radiobumttons-wrapper",children:[Object(b.jsx)("input",{type:"radio",value:"Selected",id:"1",onChange:i,name:"selectedOrNot",checked:!0===l}),Object(b.jsx)("label",{htmlFor:"selected",children:"active"}),Object(b.jsx)("input",{type:"radio",value:"notSelected",id:"2",onChange:i,name:"selectedOrNot",checked:!1===l}),Object(b.jsx)("label",{htmlFor:"notSelected",children:"not active"})]})})]})},O=(s(19),function(e){var t=Object(n.useState)(null),s=Object(o.a)(t,2),c=s[0],r=s[1];Object(n.useEffect)((function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];r(function(){if(null!==e.users)return t.map((function(t){var s=e.users.filter((function(e){return e.firstName[0]===t})).sort((function(e,t){return e.firstName>t.firstName?1:e.firstName<t.firstName?-1:0})),n={};return n[t]=s,n}))}())}),[e.users]);return Object(b.jsx)("ul",{className:"list-unstyled letters-wrapper",children:function(){if(null!==c&&void 0!==c)return c.map((function(t){return Object(b.jsxs)("li",{className:"one-letter-content-wrapper",children:[Object(b.jsx)("span",{className:"letter",children:Object.keys(t)[0]}),0===Object.values(t)[0].length?Object(b.jsxs)("span",{children:[Object(b.jsx)("br",{}),"No Employees"]}):null,Object(b.jsx)("ul",{className:"list-unstyled",children:Object.values(t)[0].map((function(t){return Object(b.jsx)("li",{children:Object(b.jsx)(d,{changeSelectedValues:e.changeSelectedValue,user:t})},t.id)}))})]},Object.keys(t)[0])}))}()})}),f=(s(20),function(e){var t=e.users,s=Object(n.useState)(null),c=Object(o.a)(s,2),r=c[0],a=c[1];Object(n.useEffect)((function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];a(function(){if(void 0!==t&&null!==t){var s=(new Date).getMonth(),n=function(){if(null!==t)return e.map((function(e,s,n){var c=t.filter((function(e){return Number(e.dob.split("-")[1])===s+1})).sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0})),r={};return r[e]=c,r}))}();return[].concat(Object(l.a)(n.slice(s)),Object(l.a)(n.slice(0,s)))}}())}),[t]);return Object(b.jsx)("ul",{className:"list-unstyled",children:function(){if(null!==r&&void 0!==r){var e=0===t.filter((function(e){return!0===e.selected})).length?Object(b.jsx)("span",{className:"employees-list-is-empty",children:"Employees List is empty"}):null;return null!==e?e:r.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{className:"month-title",children:Object.keys(e)[0]}),0===Object.values(e)[0].length?Object(b.jsx)("span",{className:"no-employees-this-month",children:"No Employees"}):null,Object(b.jsxs)("ul",{children:[0===Object.values(e)[0].filter((function(e){return!0===e.selected})).length?Object(b.jsx)("span",{className:"no-employees-this-month",children:"No Employees"}):null,Object.values(e)[0].filter((function(e){return!0===e.selected})).map((function(e){return Object(b.jsxs)("li",{className:"full-user-info",children:[Object(b.jsx)("span",{children:Object(b.jsxs)("b",{children:[" ",e.firstName]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("b",{children:[" ",e.lastName]})}),Object(b.jsx)("span",{children:Object(b.jsxs)("b",{children:[" ",e.dob]})})]},e.id)}))]})]},Object.keys(e)[0])}))}}()})}),m=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),s=t[0],c=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=JSON.parse(localStorage.getItem("allUsers")))){e.next=5;break}c(t),e.next=13;break;case 5:return e.next=7,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 7:return s=e.sent,e.next=10,s.json();case 10:(s=e.sent).forEach((function(e){e.selected=!1})),c(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsxs)("div",{className:"employees-by-letter-wrapper",children:[Object(b.jsx)("h1",{children:"Employees"}),Object(b.jsx)(O,{changeSelectedValue:function(e,t){var n=s.findIndex((function(t){return t.id===e})),r=Object(a.a)(Object(a.a)({},s[n]),{},{selected:t}),i=[].concat(Object(l.a)(s.slice(0,n)),[r],Object(l.a)(s.slice(n+1)));c(i),localStorage.setItem("allUsers",JSON.stringify(i))},users:s})]}),Object(b.jsxs)("div",{className:"employees-birthdays-wrapper",children:[Object(b.jsx)("h1",{children:"Employees birthdays"}),Object(b.jsx)(f,{users:s})]})]})};r.a.render(Object(b.jsx)(m,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ea2eabd0.chunk.js.map