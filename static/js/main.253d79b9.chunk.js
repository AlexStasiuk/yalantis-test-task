(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},22:function(e,t,s){},23:function(e,t,s){},24:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(11),l=s.n(c),a=s(13),r=s(2),i=s(6),u=s(10),o=s(9),j=s.n(o),b=s(12),d=s(3),O=(s(19),s(20),s(1)),m=function(e){var t=e.user,s=e.changeSelectedValues,c=Object(n.useState)(t.selected),l=Object(d.a)(c,2),a=l[0],r=l[1],i=function(e){r("Selected"===e.target.value),s(t.id,!a)},u=!0===a?"selected-username-color":"not-selected-username-color";return Object(O.jsxs)("div",{className:"user-wrapper",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{className:u,children:[t.firstName," "]}),Object(O.jsx)("span",{className:u,children:t.lastName})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"radiobumttons-wrapper",children:[Object(O.jsx)("input",{type:"radio",value:"Selected",id:"1",onChange:i,name:"selectedOrNot",checked:!0===a}),Object(O.jsx)("label",{htmlFor:"selected",children:"active"}),Object(O.jsx)("input",{type:"radio",value:"notSelected",id:"2",onChange:i,name:"selectedOrNot",checked:!1===a}),Object(O.jsx)("label",{htmlFor:"notSelected",children:"not active"})]})})]})},p=(s(22),function(e){var t=Object(n.useState)(null),s=Object(d.a)(t,2),c=s[0],l=s[1];Object(n.useEffect)((function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];l(function(){if(null!==e.users)return t.map((function(t){var s=e.users.filter((function(e){return e.firstName[0]===t})).sort((function(e,t){return e.firstName>t.firstName?1:e.firstName<t.firstName?-1:0})),n={};return n[t]=s,n}))}())}),[e.users]);return Object(O.jsx)("ul",{className:"list-unstyled letters-wrapper",children:function(){if(null!==c&&void 0!==c)return c.map((function(t){return Object(O.jsxs)("li",{className:"one-letter-content-wrapper",children:[Object(O.jsx)("span",{className:"letter",children:Object.keys(t)[0]}),0===Object.values(t)[0].length?Object(O.jsxs)("span",{children:[Object(O.jsx)("br",{}),"No Employees"]}):null,Object(O.jsx)("ul",{className:"list-unstyled",children:Object.values(t)[0].map((function(t){return Object(O.jsx)("li",{children:Object(O.jsx)(m,{changeSelectedValues:e.changeSelectedValue,user:t})},t.id)}))})]},Object.keys(t)[0])}))}()})}),h=(s(23),function(e){var t=e.users,s=Object(n.useState)(null),c=Object(d.a)(s,2),l=c[0],a=c[1];Object(n.useEffect)((function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];a(function(){if(void 0!==t&&null!==t){var s=(new Date).getMonth(),n=function(){if(null!==t)return e.map((function(e,s,n){var c=t.filter((function(e){return Number(e.dob.split("-")[1])===s+1})).sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0})),l={};return l[e]=c,l}))}();return[].concat(Object(i.a)(n.slice(s)),Object(i.a)(n.slice(0,s)))}}())}),[t]);return Object(O.jsx)("ul",{className:"list-unstyled",children:function(){if(null!==l&&void 0!==l){var e=0===t.filter((function(e){return!0===e.selected})).length?Object(O.jsx)("span",{className:"employees-list-is-empty",children:"Employees List is empty"}):null;return null!==e?e:l.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{className:"month-title",children:Object.keys(e)[0]}),0===Object.values(e)[0].length?Object(O.jsx)("span",{className:"no-employees-this-month",children:"No Employees"}):null,Object(O.jsxs)("ul",{children:[0===Object.values(e)[0].filter((function(e){return!0===e.selected})).length?Object(O.jsx)("span",{className:"no-employees-this-month",children:"No Employees"}):null,Object.values(e)[0].filter((function(e){return!0===e.selected})).map((function(e){return Object(O.jsxs)("li",{className:"full-user-info",children:[Object(O.jsx)("span",{children:Object(O.jsxs)("b",{children:[" ",e.firstName]})}),Object(O.jsx)("span",{children:Object(O.jsxs)("b",{children:[" ",e.lastName]})}),Object(O.jsx)("span",{children:Object(O.jsxs)("b",{children:[" ",e.dob]})})]},e.id)}))]})]},Object.keys(e)[0])}))}}()})}),f=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),s=t[0],c=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=JSON.parse(localStorage.getItem("allUsers")))){e.next=6;break}console.log("1"),c(t),e.next=15;break;case 6:return console.log("2"),e.next=9,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 9:return s=e.sent,e.next=12,s.json();case 12:(s=e.sent).forEach((function(e){e.selected=!1})),c(t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(O.jsxs)("div",{className:"app-wrapper",children:[Object(O.jsxs)("div",{className:"employees-by-letter-wrapper",children:[Object(O.jsx)("h1",{children:"Employees"}),Object(O.jsx)(p,{changeSelectedValue:function(e,t){var n=s.findIndex((function(t){return t.id===e})),l=Object(u.a)(Object(u.a)({},s[n]),{},{selected:t}),a=[].concat(Object(i.a)(s.slice(0,n)),[l],Object(i.a)(s.slice(n+1)));c(a),localStorage.setItem("allUsers",JSON.stringify(a)),console.log(JSON.parse(localStorage.getItem("allUsers")))},users:s})]}),Object(O.jsxs)("div",{className:"employees-birthdays-wrapper",children:[Object(O.jsx)("h1",{children:"Employees birthdays"}),Object(O.jsx)(h,{users:s})]})]})};l.a.render(Object(O.jsx)(a.a,{children:Object(O.jsxs)(r.d,{children:[Object(O.jsx)(r.b,{exact:!0,path:"/",element:Object(O.jsx)(r.a,{to:"/yalantis-test-task/employees/"})}),Object(O.jsx)(r.b,{path:"/yalantis-test-task/employees/",element:Object(O.jsx)(f,{})}),Object(O.jsx)(r.b,{path:"/yalantis-test-task/employees/",element:Object(O.jsx)(r.a,{to:"/yalantis-test-task/"})})]})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.253d79b9.chunk.js.map